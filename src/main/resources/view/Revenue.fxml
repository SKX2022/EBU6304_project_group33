<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.image.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.chart.*?>

<BorderPane xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.finance.controller.RevenueController"
            stylesheets="@../css/style.css">

    <top>
        <fx:include source="NavigationBar.fxml"/>
    </top>
    <center>
            <VBox spacing="30" style="-fx-padding: 30;">
                
                <!-- é¡µé¢æ ‡é¢˜ -->
                <HBox alignment="CENTER">
                    <VBox alignment="CENTER" spacing="10">
                        <Label text="ðŸ’° æ”¶å…¥åˆ†æžä¸Žç¨Žæ”¶è®¡ç®—" styleClass="income-title"/>
                        <Label text="è¾“å…¥æ‚¨çš„å¹´æ”¶å…¥ï¼Œæˆ‘ä»¬å°†ä¸ºæ‚¨è®¡ç®—ä¸ªäººæ‰€å¾—ç¨Žå’Œå®žé™…åˆ°æ‰‹æ”¶å…¥" styleClass="income-subtitle"/>
                    </VBox>
                </HBox>

                <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
                <HBox spacing="40" alignment="TOP_CENTER">
                    
                    <!-- å·¦ä¾§ï¼šè¾“å…¥åŒºåŸŸ -->
                    <VBox spacing="20" styleClass="income-input-card" minWidth="400" alignment="TOP_LEFT">
                        <Label text="ðŸ“Š æ”¶å…¥ä¿¡æ¯è¾“å…¥" styleClass="section-title"/>
                        
                        <!-- å¹´æ”¶å…¥è¾“å…¥ -->
                        <VBox spacing="8">
                            <Label text="å¹´æ”¶å…¥ï¼ˆç¨Žå‰ï¼‰" styleClass="input-label"/>
                            <TextField fx:id="annualIncomeField" promptText="è¯·è¾“å…¥å¹´æ”¶å…¥é‡‘é¢ï¼ˆå…ƒï¼‰" 
                                      styleClass="income-input-field" prefWidth="350"/>
                        </VBox>
                        
                        <!-- å·¥ä½œåŸŽå¸‚é€‰æ‹© -->
                        <VBox spacing="8">
                            <Label text="å·¥ä½œåŸŽå¸‚" styleClass="input-label"/>
                            <ComboBox fx:id="cityComboBox" promptText="é€‰æ‹©å·¥ä½œåŸŽå¸‚" 
                                     styleClass="income-input-field" prefWidth="350"/>
                        </VBox>
                        
                        <!-- ç¤¾ä¿åŸºæ•° -->
                        <VBox spacing="8">
                            <Label text="ç¤¾ä¿ç¼´è´¹åŸºæ•°" styleClass="input-label"/>
                            <TextField fx:id="socialSecurityBaseField" promptText="é»˜è®¤æŒ‰å·¥èµ„è®¡ç®—ï¼Œå¯æ‰‹åŠ¨è°ƒæ•´" 
                                      styleClass="income-input-field" prefWidth="350"/>
                        </VBox>
                        
                        <!-- å…¬ç§¯é‡‘åŸºæ•° -->
                        <VBox spacing="8">
                            <Label text="å…¬ç§¯é‡‘ç¼´è´¹åŸºæ•°" styleClass="input-label"/>
                            <TextField fx:id="housingFundBaseField" promptText="é»˜è®¤æŒ‰å·¥èµ„è®¡ç®—ï¼Œå¯æ‰‹åŠ¨è°ƒæ•´" 
                                      styleClass="income-input-field" prefWidth="350"/>
                        </VBox>
                        
                        <!-- è®¡ç®—æŒ‰é’® -->
                        <Button fx:id="calculateButton" text="ðŸ§® è®¡ç®—ç¨Žæ”¶" onAction="#calculateTax" 
                               styleClass="calculate-button" prefWidth="350"/>
                        
                        <!-- é‡ç½®æŒ‰é’® -->
                        <Button fx:id="resetButton" text="ðŸ”„ é‡ç½®" onAction="#resetForm" 
                               styleClass="reset-button" prefWidth="350"/>
                    </VBox>
                    
                    <!-- å³ä¾§ï¼šç»“æžœæ˜¾ç¤ºåŒºåŸŸ -->
                    <VBox spacing="20" styleClass="income-result-card" minWidth="450" alignment="TOP_LEFT">
                        <Label text="ðŸ“ˆ ç¨Žæ”¶è®¡ç®—ç»“æžœ" styleClass="section-title"/>
                        
                        <!-- æ”¶å…¥æ±‡æ€» -->
                        <VBox spacing="10" styleClass="result-summary">
                            <Label text="ðŸ’¼ æ”¶å…¥æ±‡æ€»" styleClass="result-category"/>
                            <HBox alignment="CENTER_LEFT">
                                <Label text="å¹´æ”¶å…¥ï¼ˆç¨Žå‰ï¼‰ï¼š" styleClass="result-label"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label fx:id="yearlyIncomeLabel" text="Â¥ 0.00" styleClass="result-value"/>
                            </HBox>
                            <HBox alignment="CENTER_LEFT">
                                <Label text="æœˆå¹³å‡æ”¶å…¥ï¼š" styleClass="result-label"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label fx:id="monthlyIncomeLabel" text="Â¥ 0.00" styleClass="result-value"/>
                            </HBox>
                        </VBox>
                        
                        <!-- æ‰£é™¤é¡¹ç›® -->
                        <VBox spacing="10" styleClass="result-summary">
                            <Label text="ðŸ“‹ æ‰£é™¤é¡¹ç›®" styleClass="result-category"/>
                            <HBox alignment="CENTER_LEFT">
                                <Label text="ä¸ªäººæ‰€å¾—ç¨Žï¼š" styleClass="result-label"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label fx:id="incomeTaxLabel" text="Â¥ 0.00" styleClass="tax-value"/>
                            </HBox>
                            <HBox alignment="CENTER_LEFT">
                                <Label text="ç¤¾ä¿ä¸ªäººéƒ¨åˆ†ï¼š" styleClass="result-label"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label fx:id="socialSecurityLabel" text="Â¥ 0.00" styleClass="deduction-value"/>
                            </HBox>
                            <HBox alignment="CENTER_LEFT">
                                <Label text="å…¬ç§¯é‡‘ä¸ªäººéƒ¨åˆ†ï¼š" styleClass="result-label"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label fx:id="housingFundLabel" text="Â¥ 0.00" styleClass="deduction-value"/>
                            </HBox>
                            <Separator/>
                            <HBox alignment="CENTER_LEFT">
                                <Label text="æ€»æ‰£é™¤é‡‘é¢ï¼š" styleClass="result-label" style="-fx-font-weight: bold;"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label fx:id="totalDeductionLabel" text="Â¥ 0.00" styleClass="total-deduction-value"/>
                            </HBox>
                        </VBox>
                        
                        <!-- å®žé™…æ”¶å…¥ -->
                        <VBox spacing="10" styleClass="result-summary final-result">
                            <Label text="ðŸ’° å®žé™…åˆ°æ‰‹" styleClass="result-category"/>
                            <HBox alignment="CENTER_LEFT">
                                <Label text="å¹´å®žé™…æ”¶å…¥ï¼š" styleClass="result-label" style="-fx-font-weight: bold;"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label fx:id="netYearlyIncomeLabel" text="Â¥ 0.00" styleClass="net-income-value"/>
                            </HBox>
                            <HBox alignment="CENTER_LEFT">
                                <Label text="æœˆå®žé™…æ”¶å…¥ï¼š" styleClass="result-label" style="-fx-font-weight: bold;"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label fx:id="netMonthlyIncomeLabel" text="Â¥ 0.00" styleClass="net-income-value"/>
                            </HBox>
                            <HBox alignment="CENTER_LEFT">
                                <Label text="ç¨Žè´ŸçŽ‡ï¼š" styleClass="result-label"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label fx:id="taxRateLabel" text="0.00%" styleClass="result-value"/>
                            </HBox>
                        </VBox>
                        
                    </VBox>
                </HBox>
                <!-- åº•éƒ¨è¯´æ˜Ž -->
                <VBox spacing="10" styleClass="income-note-card">
                    <Label text="ðŸ“‹ è®¡ç®—è¯´æ˜Ž" styleClass="note-title"/>
                    <Label text="â€¢ ä¸ªäººæ‰€å¾—ç¨ŽæŒ‰ç…§æœ€æ–°ç¨ŽçŽ‡è®¡ç®—ï¼ŒåŒ…å«ä¸“é¡¹æ‰£é™¤ï¼ˆèµ·å¾ç‚¹5000å…ƒï¼‰"/>
                    <Label text="â€¢ ç¤¾ä¿è´¹çŽ‡ï¼šå…»è€ä¿é™©8%ï¼ŒåŒ»ç–—ä¿é™©2%ï¼Œå¤±ä¸šä¿é™©0.5%"/>
                    <Label text="â€¢ å…¬ç§¯é‡‘è´¹çŽ‡ï¼šæ ¹æ®åŸŽå¸‚æ”¿ç­–ï¼Œä¸€èˆ¬ä¸º5%-12%"/>
                    <Label text="â€¢ è®¡ç®—ç»“æžœä»…ä¾›å‚è€ƒï¼Œå®žé™…ç¼´è´¹å¯èƒ½å› æ”¿ç­–è°ƒæ•´è€Œæœ‰æ‰€å·®å¼‚"/>
                </VBox>
            </VBox>
    </center>
</BorderPane> 